{"version":3,"sources":["components/Header/img/down.png","components/redux/reducer.js","components/redux/store.js","components/Header/Header.js","api/API.js","components/SearchBox/SearchBox.js","components/MovieItem/MovieItem.js","components/Movies/Movies.js","components/Favorites/Favorites.js","pages/MainPage/MainPage.js","pages/ListPage/ListPage.js","App.js","index.js"],"names":["module","exports","initialState","film","addListFilm","idListFilm","moviesListPage","titleListPage","flag","Link","ID","reducer","state","action","type","cart","payload","res","loadingOne","load","newCart","addFilm","imdbID","loadingTwo","find","item","NewAddListFilm","push","id","idFilm","link","idlistFilm","loadingThree","newIdlistFilm","list","movies","title","loadFour","newListListPage","delFilm","NewDelFilm","filter","loading","store","createStore","reduser","Header","Loading","idLink","componentDidMount","subscribe","getState","setState","this","className","src","down","alt","to","Component","SearchBoxApi","ResultState","url","fetch","then","response","json","data","dispatch","Search","catch","error","console","MoviItemApi","search","FavoritsApi","method","headers","body","JSON","stringify","ListPageApi","SearchBox","searchLine","searchLineChangeHandler","e","target","value","searchBoxSubmitHandler","preventDefault","LoadStart","clickButtonSearch","onSubmit","placeholder","onChange","disabled","onClick","MovieItem","clickButtonAddList","props","Title","Year","Poster","Movies","map","movie","key","Favorites","idFilmList","newListChangeHandler","clickSave","clickDel","length","MainPage","result","searchRes","ListPage","match","params","href","App","path","exact","component","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ac523ba7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAACLklEQVRoge3Yz0sVURTA8Y/yyCKrTZsoF2Il/gVGtGkbLoP+hlpV/iFB60CxlSG4iFaSVhQ8iqBoEwi1iaKoQCXKhb4Wb0Z9781cx/cmn4/uFw5c5px7fsydM/fOEIlEusUQ5rCayDxGu5pRGwzhB2pN8jPR9QxzWotI5UEX89ozq/ILWfkXASttzDmKfqy1GbMW0PXjXDJexmabMYKcxULivIbnGMuxnZe/IrM5c67i0w67z7hWUu5bjMl+XL7gVIb9qHpjN9t/x5kM+wlsZNhv4EqJdbifESSVOzlzhtQbeyWRWdlFwLuA/7elVJDwPhDoVYe+TwR8p3JsNyf9BYP9CegGC/rII+25PGoKNH3RQl4EdAsFfeSxhpcBfRW/OoyxxWl81brkyzhZgv9LWM/wv46LJfhv4Dweqd+db7iL4yX6v4zXtot4k1zrWQYVaO7IQaev2wkUYATjybiKD3uZXMEklrCI29o7YHbCEczY3mfS/WQ60e1KBc+0vgqf2N9iZjJySGWqiIPJgINb5eebyYjGlWiWTQzvnJC1s08EAoR0ZTIu3L99uLDzQlYhoXPPgSWrkIcB+5CuTKrCN3QzsQlSwVOtz+WS/W326YwcUrlX1ElFvbEX8Rg3def1O6Wx6TfUizjcbNwLG+Kw7cau4mMXc4lEIiUykEhPc0P9O309GfckAxp/QPy2h5Up+jtov2g+lvTkuY/GR+t6l3PpmEOJRCKRSCQS+W/5C7KBzW/gNpThAAAAAElFTkSuQmCC\"","const initialState = {\r\n    film: [],\r\n    addListFilm: [],\r\n    idListFilm: [],\r\n    moviesListPage: [],\r\n    titleListPage: '',\r\n    flag: false,\r\n    Link: false,\r\n    ID: ''\r\n}\r\n\r\nfunction reducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        case 'ADD_FILM':\r\n            const cart = action.payload.res;\r\n            const loadingOne = action.payload.load;\r\n            const newCart = [...state.film, cart];\r\n            return { ...state, newCart, flag: loadingOne }\r\n        case 'ADD_List_FILM':\r\n            const addFilm = action.payload.imdbID;\r\n            const loadingTwo = action.payload.load;\r\n            if (state.addListFilm.find((item) => item.imdbID === addFilm.imdbID)) return { ...state, flag: loadingTwo }\r\n            // const NewAddListFilm = [...state.addListFilm, addFilm]\r\n            const NewAddListFilm = state.addListFilm.push(addFilm);\r\n            return { ...state, NewAddListFilm, flag: loadingTwo }\r\n        case 'ADD_List_FILM_ID':\r\n            const id = action.payload.idFilm.id;\r\n            const link = action.payload.link;\r\n            const idlistFilm = action.payload.idFilm;\r\n            const loadingThree = action.payload.load;\r\n            const newIdlistFilm = [...state.idListFilm, idlistFilm];\r\n            return { ...state, newIdlistFilm, flag: loadingThree, Link: link, ID: id };\r\n        case 'FILM_LIST_PAGE':\r\n            const list = action.payload.movies.movies;\r\n            const title = action.payload.movies.title;\r\n            const loadFour = action.payload.load;\r\n            const newListListPage = [...state.moviesListPage, list];\r\n            return { ...state, newListListPage, titleListPage: title, flag: loadFour, addListFilm: [], Link: false }\r\n        case 'REMOVE_FILM':\r\n            const delFilm = action.payload.id\r\n            let NewDelFilm = [...state.addListFilm].filter((item) =>\r\n                item.imdbID !== delFilm)\r\n            return { ...state, addListFilm: NewDelFilm }\r\n        case 'LOADING_STATUS':\r\n            const loading = action.payload.load;\r\n            return { ...state, flag: loading }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default reducer;","import { createStore } from \"redux\";\r\nimport reduser from \"./reducer\"\r\n\r\nconst store = createStore(reduser)\r\n\r\nexport default store","import React, { Component } from 'react';\r\nimport './Header.css';\r\nimport { Link } from 'react-router-dom';\r\nimport down from './img/down.png';\r\nimport store from '../redux/store';\r\n\r\nclass Header extends Component {\r\n\r\n    state = {\r\n        Loading: false,\r\n        idLink : ':id'\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        store.subscribe(() => {\r\n            const state = store.getState();\r\n            this.setState({\r\n                Loading: state.flag,\r\n                idLink: state.ID\r\n            });\r\n        });\r\n    };\r\n    render() {\r\n        if(this.state.idLink === '') {\r\n            this.setState({\r\n                idLink: ':id'\r\n            });\r\n        }\r\n        return (\r\n            <header className=\"header\">\r\n                <h1 className=\"header__title\">\r\n                    MustSee\r\n                </h1>\r\n                <div className={!this.state.Loading? 'not-load__container' : 'load__container'}>\r\n                        <img src={down} className=\"load__img\" alt=\"logo\" />\r\n                    </div>\r\n                <ul className=\"header__list\">\r\n                    <li className=\"header__list-item\">\r\n                    <Link className=\"header__list-link\" to=\"/\">Поиск</Link>                        \r\n                    </li>\r\n                    <li className=\"header__list-item\">\r\n                    <Link className=\"header__list-link\" to={`/list/${this.state.idLink}`}>Мой список</Link>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Header;","import store from \"../components/redux/store\";\r\n\r\n//запрос для SearchBox\r\nexport function SearchBoxApi(ResultState) {\r\n\r\n    const apikey = 'c16ec1a3'; //Here is your API key: c16ec1a3\r\n    const search = ResultState;\r\n    const url = `http://www.omdbapi.com/?s=${search}&apikey=${apikey}`;\r\n    fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            store.dispatch({\r\n                type: 'ADD_FILM',\r\n                payload: {\r\n                    res: data.Search,\r\n                    load: false\r\n                }\r\n            })\r\n        }\r\n        )\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n}\r\n\r\n//запрос для MoviItem\r\nexport function MoviItemApi(search) {\r\n\r\n    const apikey = 'c16ec1a3'; //Here is your API key: c16ec1a3\r\n    const url = `http://www.omdbapi.com/?i=${search}&apikey=${apikey}`;\r\n    fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            store.dispatch({\r\n                type: 'ADD_List_FILM',\r\n                payload: {\r\n                    imdbID: data,\r\n                    load: false\r\n                }\r\n            })\r\n        }\r\n        )\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n\r\n}\r\n\r\n// пост запрос для Favorits\r\nexport function FavoritsApi(data) {\r\n\r\n    const url = `https://acb-api.algoritmika.org/api/movies/list`;\r\n    fetch(url, {\r\n        method: 'POST', // or 'PUT'\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            store.dispatch({\r\n                type: 'ADD_List_FILM_ID',\r\n                payload: {\r\n                    idFilm: data,\r\n                    load: false,\r\n                    link: true\r\n                }\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n\r\n}\r\n\r\n//запрос для ListPage\r\nexport function ListPageApi(id) {\r\n\r\n    const url = `https://acb-api.algoritmika.org/api/movies/list/${id}`;\r\n    fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            store.dispatch({\r\n                type: 'FILM_LIST_PAGE',\r\n                payload: {\r\n                    movies: data,\r\n                    load: false\r\n                }\r\n            })\r\n        }\r\n        )\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n}","import React, { Component } from 'react';\r\nimport './SearchBox.css';\r\nimport store from '../redux/store';\r\nimport { SearchBoxApi } from '../../api/API';\r\nclass SearchBox extends Component {\r\n\r\n    state = {\r\n        searchLine: ''\r\n    }\r\n\r\n    searchLineChangeHandler = (e) => {\r\n        this.setState({ searchLine: e.target.value });\r\n    }\r\n\r\n    searchBoxSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        this.LoadStart();\r\n    }\r\n\r\n    LoadStart = (e) => {\r\n        store.dispatch({\r\n            type: 'LOADING_STATUS',\r\n            payload: {\r\n                load: true\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    clickButtonSearch = (e) => {\r\n        SearchBoxApi(this.state.searchLine);\r\n    }\r\n\r\n    render() {\r\n        const { searchLine } = this.state;\r\n        return (\r\n            <div className=\"search-box\">\r\n                <form className=\"search-box__form\" onSubmit={this.searchBoxSubmitHandler}>\r\n                    <label className=\"search-box__form-label\">\r\n                        Искать фильм по названию:\r\n                        <input\r\n                            value={searchLine}\r\n                            type=\"text\"\r\n                            className=\"search-box__form-input\"\r\n                            placeholder=\"Например, Shawshank Redemption\"\r\n                            onChange={this.searchLineChangeHandler}\r\n                        />\r\n                    </label>\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"search-box__form-submit\"\r\n                        disabled={!searchLine}\r\n                        onClick={this.clickButtonSearch}\r\n                    >\r\n                        Искать\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchBox;","import React, { Component } from 'react';\r\nimport './MovieItem.css';\r\nimport store from '../redux/store';\r\nimport { MoviItemApi } from '../../api/API';\r\n\r\nclass MovieItem extends Component {\r\n    LoadStart = (e) => {\r\n        store.dispatch({\r\n            type: 'LOADING_STATUS',\r\n            payload: {\r\n                load: true\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    clickButtonAddList = (imdbID) => {\r\n        this.LoadStart();\r\n        const search = imdbID.imdbID;\r\n        MoviItemApi(search);\r\n    }\r\n\r\n    render() {\r\n        const { Title, Year, Poster, imdbID } = this.props;\r\n        return (\r\n            <article className=\"movie-item\">\r\n                <img className=\"movie-item__poster\" src={Poster} alt={Title} />\r\n                <div className=\"movie-item__info\">\r\n                    <h3 className=\"movie-item__title\">{Title}&nbsp;{Year}</h3>\r\n                    <button onClick={() => this.clickButtonAddList({ imdbID })} type=\"button\" className=\"movie-item__add-button\">\r\n                        Добавить в список\r\n                    </button>\r\n                </div>\r\n            </article>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieItem;","import React, { Component } from 'react';\r\nimport MovieItem from '../MovieItem/MovieItem';\r\nimport './Movies.css';\r\nimport store from '../redux/store';\r\n\r\nclass Movies extends Component {\r\n    state = {\r\n        data: []\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        store.subscribe(() => {\r\n            const state = store.getState();\r\n            state.newCart && this.setState({\r\n                data: state.newCart[0]\r\n            });\r\n        });\r\n\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <ul className=\"movies\">\r\n                {this.state.data && this.state.data.map((movie) => (\r\n                    <li className=\"movies__item\" key={movie.imdbID}>\r\n                        <MovieItem {...movie} />\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Movies;","import React, { Component } from 'react';\r\nimport './Favorites.css';\r\nimport store from '../redux/store';\r\nimport { Link } from 'react-router-dom';\r\nimport { FavoritsApi } from '../../api/API';\r\n\r\nclass Favorites extends Component {\r\n    state = {\r\n        title: '',\r\n        movies: [],\r\n        link: false,\r\n        idFilmList: ''\r\n    }\r\n\r\n    newListChangeHandler = (e) => {\r\n        this.setState({ title: e.target.value });\r\n    }\r\n\r\n    LoadStart = (e) => {\r\n        store.dispatch({\r\n            type: 'LOADING_STATUS',\r\n            payload: {\r\n                load: true\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    clickSave = () => {\r\n        this.LoadStart();\r\n        const data = this.state;\r\n        FavoritsApi(data);\r\n    }\r\n\r\n    clickDel = (imdbID) => {\r\n        store.dispatch({\r\n            type: 'REMOVE_FILM',\r\n            payload: {\r\n                id: imdbID\r\n            }\r\n        })\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        store.subscribe(() => {\r\n            const state = store.getState();\r\n            this.setState({\r\n                movies: state.addListFilm,\r\n                link: state.Link,\r\n                idFilmList: state.ID\r\n            });\r\n        });\r\n    };\r\n    render() {\r\n        if(!this.state) return ;\r\n        return (\r\n            <div className=\"favorites\">\r\n                <input\r\n                    onChange={this.newListChangeHandler}\r\n                    type=\"text\"\r\n                    placeholder=\"Введите название списка\"\r\n                    className=\"favorites__name\"\r\n                />\r\n                <ul className=\"favorites__list\">\r\n                    {this.state.movies && this.state.movies.map((item) => {\r\n                        return <li className='favorites__element' key={item.imdbID}>\r\n                            {item.Title} ({item.Year})\r\n                            <button onClick={() => this.clickDel(item.imdbID)} className='favorites__del'>X</button></li>;\r\n                    })}\r\n                </ul>\r\n                {this.state.link === true ?\r\n                    <Link to={`/list/${this.state.idFilmList}`}\r\n                        className='favorites__link'>Перейти к списку</Link>\r\n                    :\r\n                    <button\r\n                        onClick={this.clickSave}\r\n                        disabled={this.state.title === '' || +this.state.movies.length === 0}\r\n                        type=\"button\"\r\n                        className={\r\n                            this.state.title === '' || +this.state.movies.length === 0 ?\r\n                                \"favorites__save-disabled\" : \"favorites__save\"\r\n                        }>\r\n                        Сохранить список\r\n                    </button>}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Favorites;","import React, { Component } from 'react';\r\nimport './MainPage.css';\r\nimport Header from '../../components/Header/Header';\r\nimport SearchBox from '../../components/SearchBox/SearchBox';\r\nimport Movies from '../../components/Movies/Movies';\r\nimport Favorites from '../../components/Favorites/Favorites';\r\n\r\nclass MainPage extends Component {\r\n    state = {\r\n        result: ''\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main-page\">\r\n                <Header />\r\n                <main className=\"main-page__content\">\r\n                    <section className=\"main-page__main-section\">\r\n                        <div className=\"main-page__search-box\">\r\n                            {/* Строка поиска и кнопка искать  */}\r\n                            <SearchBox searchRes={this.state.searchLine} />\r\n                        </div>\r\n                        <div className=\"main-page__movies\">\r\n                            {/* Отображение списка фильмов */}\r\n                            <Movies />\r\n                        </div>\r\n                    </section>\r\n                    <aside className=\"main-page__favorites\">\r\n                        {/* Сохраненный список фильмов */}\r\n                        <Favorites />\r\n                    </aside>\r\n                </main>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainPage;","import React, { Component } from 'react';\r\nimport './ListPage.css';\r\nimport store from '../../components/redux/store';\r\nimport Header from '../../components/Header/Header';\r\nimport { ListPageApi } from '../../api/API';\r\n\r\nclass ListPage extends Component {\r\n    state = {\r\n        movies: [],\r\n        title: ''\r\n    }\r\n\r\n    LoadStart = (e) => {\r\n        store.dispatch({\r\n            type: 'LOADING_STATUS',\r\n            payload: {\r\n                load: true\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.LoadStart();\r\n        const id = this.props.match.params.id;\r\n        ListPageApi(id);\r\n        store.subscribe(() => {\r\n            const state = store.getState();\r\n            state.newListListPage && this.setState({\r\n                movies: state.newListListPage[0],\r\n                title: state.titleListPage\r\n            });\r\n\r\n        });\r\n        // TODO: запрос к сервер на получение списка\r\n        // TODO: запросы к серверу по всем imdbID\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"main-page\">\r\n                    <Header />\r\n                </div>\r\n                <div className=\"list-page\">\r\n                    <h1 className=\"list-page__title\">Мой список</h1>\r\n                    <div className='list-page__container'>\r\n                        <h2 className='list-page__container-title'>{this.state.title}</h2>\r\n                        <ul>\r\n                            {this.state.movies && this.state.movies.map((item) => {\r\n                                return (\r\n                                    <li key={item.imdbID}>\r\n                                        <a href={`https://www.imdb.com/title/${item.imdbID}/`} target={`_blank`}>{item.Title} ({item.Year})</a>\r\n                                    </li>\r\n                                );\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ListPage;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport MainPage from './pages/MainPage/MainPage';\r\nimport ListPage from './pages/ListPage/ListPage';\r\nimport './reset.css';\r\nimport './common.css';\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Route path=\"/\" exact component={MainPage} />\r\n        <Route path=\"/list/:id\" exact component={ListPage} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}